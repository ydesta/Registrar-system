<nz-tabset class="custom-tabset">
  <nz-tab [nzTitle]="seasonTitles" class="custom-tab" *ngIf="resultStatus != 2 && resultStatus != 5">
    <ng-template #titleoffering>
      <span nz-icon nzType="desktop"></span>
      {{ nextTerm }}
    </ng-template>
    <div *ngIf="havePreparedCourseOffering && studentTermCourseReg.isAllowedToRegister==1;else elseBlock">
      <div class="academic-header" *ngIf="studentTermCourseReg">
        <div class="academic-info">
          <div class="info-item">
            <span class="label">Student Name:</span>
            <span class="value">{{studentTermCourseReg?.fullName}}</span>
          </div>
          <div class="info-item">
            <span class="label">Student ID:</span>
            <span class="value">{{studentTermCourseReg?.studentId}}</span>
          </div>
          <div class="info-item">
            <span class="label">Batch Code:</span>
            <span class="value">{{studentTermCourseReg.batchCode}}</span>
          </div>

        </div>
      </div>

      <div class="credit-hours-summary" 
           role="region" 
           aria-label="Credit hours summary"
           [attr.aria-live]="totalSelectedCreditHours > getMaxAllowedCreditHours() ? 'assertive' : 'polite'">
        <div class="summary-grid">
          <div class="summary-card selected-credits">
            <div class="card-header">
              <span nz-icon nzType="book" nzTheme="outline"></span>
              <span class="card-title">Selected Credits</span>
            </div>
            <div class="card-value" 
                 [class.value-exceeded]="totalSelectedCreditHours > getMaxAllowedCreditHours()"
                 [class.value-normal]="totalSelectedCreditHours <= getMaxAllowedCreditHours()"
                 [attr.aria-label]="'Total selected credit hours: ' + totalSelectedCreditHours">
              {{ totalSelectedCreditHours }}
            </div>
            <div class="card-subtitle">out of {{ getMaxAllowedCreditHours() }} max</div>
          </div>
          
          <div class="summary-card max-credits">
            <div class="card-header">
              <span nz-icon nzType="trophy" nzTheme="outline"></span>
              <span class="card-title">Max Allowed</span>
            </div>
            <div class="card-value max-value">{{ getMaxAllowedCreditHours() }}</div>
            <div class="card-subtitle">based on CGPA</div>
          </div>
          
          <div class="summary-card cgpa">
            <div class="card-header">
              <span nz-icon nzType="star" nzTheme="outline"></span>
              <span class="card-title">Current CGPA</span>
            </div>
            <div class="card-value" 
                 [class.value-good]="studentTermCourseReg?.cgpa >= 1.5"
                 [class.value-poor]="studentTermCourseReg?.cgpa < 1.5"
                 [attr.aria-label]="'Current CGPA: ' + (studentTermCourseReg?.cgpa || 'Not available')">
              {{ studentTermCourseReg?.cgpa | number:'1.2-2' }}
            </div>
            <div class="card-subtitle">academic standing</div>
          </div>
        </div>
        
        <div class="credit-breakdown" *ngIf="totalSelectedCreditHours > 0">
          <div class="breakdown-title">Credit Breakdown</div>
          <div class="breakdown-items">
            <div class="breakdown-item" *ngIf="totalSelectedCreditHours > 0">
              <span class="breakdown-label">Total Selected:</span>
              <span class="breakdown-value">{{ totalSelectedCreditHours }}</span>
            </div>
            <div class="breakdown-item" *ngIf="getMaxAllowedCreditHours() > 0">
              <span class="breakdown-label">Max Allowed:</span>
              <span class="breakdown-value">{{ getMaxAllowedCreditHours() }}</span>
            </div>
          </div>
        </div>
      </div>

      <nz-card nzType="inner" [nzTitle]="courseSectionTitle" class="card-section">
        <nz-alert nzType="info" nzShowIcon [nzMessage]="'Regular Term Registration'"
          [nzDescription]="'Select the courses you want to register for the current term. These are your primary course selections.'"
          style="margin-bottom: 16px;"></nz-alert>
        <div id="print-section" class="print-section">
          <button class="print-button" (click)="printSlip()">
            <span nz-icon nzType="printer" nzTheme="outline"></span>
            Show Slip
          </button>
          <button class="print-button" (click)="downloadPDF()">
            <span nz-icon nzType="download" nzTheme="outline"></span>
            Download PDF
          </button>
        </div>

        <nz-spin [nzSpinning]="isLoadingRegularCourses" [nzTip]="'Loading courses...'">
          <div class="responsive-table-wrapper">
            <nz-table #basicTable 
              [nzData]="studentTermCourseReg?.courseTermOfferings" 
              nzShowSizeChanger
              (nzCurrentPageDataChange)="onCurrentPageDataChange($event)" 
              nzBordered 
              [nzShowPagination]="false"
              [nzLoading]="isLoadingRegularCourses"
              nzSize="middle"
              [nzScroll]="{ x: '800px' }">
              <thead class="table-header-row">
                <tr class="table-header-row">
                  <th class="paginate" 
                    [nzChecked]="checkedRegularCourses"
                    [nzIndeterminate]="indeterminateRegularCourses" 
                    (nzCheckedChange)="onAllChecked($event, 'regular')">
                  </th>
                  <th class="th-row">
                    Course Code
                  </th>
                  <th class="th-row">
                    Course Title
                  </th>
                  <th class="th-row">
                    Status
                  </th>
                  <th class="th-row">
                    Grade
                  </th>
                  <th class="th-row">
                    Credit Hour
                  </th>
                  <th class="th-row">
                    Total Amount
                  </th>
                </tr>
              </thead>
              <tbody>
                <ng-container *ngFor="let data of basicTable.data; let i = index; trackBy: trackByCourseId">
                  <tr [class.disabled-row]="!setOfCheckedId.has(data.courseId)"
                    [class.selected-row]="setOfCheckedId.has(data.courseId)"
                    [style.background-color]="isRegularCourseDisabled(data) ? '#fff1f0' : '#ffffff'"
                    [style.color]="isRegularCourseDisabled(data) ? '#595959' : ''">
                    <td class="paginate">
                      <ng-container *ngIf="isRegularCourseDisabled(data); else regularCheckbox">
                        <span nz-icon nzType="lock" nzTheme="outline" style="color: #ff4d4f; font-size: 20px;"
                          nz-tooltip [nzTooltipTitle]="getCourseLockTooltipMessage(data)" nzTooltipPlacement="right"
                          [nzTooltipColor]="'#1890ff'">
                        </span>
                      </ng-container>
                      <ng-template #regularCheckbox>
                        <label nz-checkbox [nzChecked]="setOfCheckedId.has(data.courseId)"
                          (nzCheckedChange)="onItemChecked(data.courseId, $event, false)"
                          [nzDisabled]="isRegularCourseDisabled(data) || isCourseSelectedInOtherTable(data, 'available')">
                        </label>
                      </ng-template>
                    </td>
                    <td>{{data.courseCode}}</td>
                    <td>{{ data.courseTitle }} </td>
                    <td>{{ data.courseStatus }}</td>
                    <td>{{ data.currentGrade }}</td>
                    <td style="text-align: center;">{{ data.creditHours }}</td>
                    <td style="text-align: center;">{{ data.totalAmount }}</td>
                  </tr>
                </ng-container>
              </tbody>
              <tfoot class="footer-row">
                <tr>
                  <td colspan="5" style="font-weight: bold;">Total</td>
                  <td style="font-weight: bold;">{{ getTotalCreditHours() }}</td>
                  <td style="font-weight: bold;">{{ getTotalAmount() | number:'1.2-2' }}</td>
                </tr>
              </tfoot>
            </nz-table>
          </div>
        </nz-spin>
      </nz-card>
      <nz-card nzType="inner" [nzTitle]="courseAddTitle" class="card-section">
        <nz-alert nzType="warning" nzShowIcon [nzMessage]="'Add Course Request'"
          [nzDescription]="'You can select up to 3 additional courses. Each course must be assigned a priority (1-3) before selecting another course. Priority 1 is the highest priority.'"
          style="margin-bottom: 16px;"></nz-alert>
        <div style="margin-bottom: 16px;">
          <nz-input-group nzSearch [nzAddOnAfter]="searchButton">
            <input type="text" nz-input placeholder="Search by course code or title" [(ngModel)]="searchAddCourseText"
              (ngModelChange)="filterAddCourses()" />
          </nz-input-group>
          <ng-template #searchButton>
            <button nz-button nzType="primary" nzSearch (click)="filterAddCourses()">
              <span nz-icon nzType="search"></span>
            </button>
          </ng-template>
        </div>
        <nz-spin [nzSpinning]="isLoadingAddCourses">
          <div class="responsive-table-wrapper">
            <nz-table #addTable [nzData]="filteredAddCourses" nzShowSizeChanger
              (nzCurrentPageDataChange)="onCurrentPageDataChange($event)" nzBordered [nzShowPagination]="false"
              [nzScroll]="{ y: tableScrollHeight }" [nzPageSize]="filteredAddCourses.length">
              <thead class="table-header-row">
                <tr class="table-header-row">
                  <th class="paginate" [nzChecked]="checkedAddCourses" [nzIndeterminate]="indeterminateAddCourses"
                    (nzCheckedChange)="onAllChecked($event, 'add')" [nzDisabled]="true">
                  </th>
                  <!-- <th class="th-row">Batch Code</th> -->
                  <th class="th-row">Course Code</th>
                  <th class="th-row">Course Title</th>
                  <th class="th-row">Status</th>
                  <th class="th-row">Grade</th>
                  <th class="th-row">Credit Hour</th>
                  <th class="th-row">Total Amount</th>
                  <th class="th-row">Priority</th>
                </tr>
              </thead>
              <tbody>
                <ng-container tabindex="0" *ngFor="let data of addTable.data; let i = index">
                  <tr [class.disabled-row]="!setOfCheckedAddCourses.has(data.courseId)"
                    [style.background-color]="isRegularCourseDisabled(data) ? '#fff1f0' : '#ffffff'"
                    [style.color]="isRegularCourseDisabled(data) ? '#595959' : ''">
                    <td class="paginate">
                      <ng-container *ngIf="isRegularCourseDisabled(data); else addCheckbox">
                        <span nz-icon nzType="lock" nzTheme="outline" style="color: #ff4d4f; font-size: 20px;"
                          nz-tooltip [nzTooltipTitle]="getCourseLockTooltipMessage(data, 'add')" nzTooltipPlacement="right"
                          [nzTooltipColor]="'#1890ff'">
                        </span>
                      </ng-container>
                      <ng-template #addCheckbox>
                        <label nz-checkbox [nzChecked]="setOfCheckedAddCourses.has(data.courseId)"
                          (nzCheckedChange)="onItemChecked(data.courseId, $event, true)"
                          [nzDisabled]="isRegularCourseDisabled(data) || isCourseSelectedInOtherTable(data, 'add') || (selectedBatchCode && data.batchCode !== selectedBatchCode)">
                        </label>
                      </ng-template>
                    </td>
                    <!-- <td>{{data.batchCode}}</td> -->
                    <td>{{data.courseCode}}</td>
                    <td>{{ data.courseTitle }}</td>
                    <td>{{ data.courseStatus }}</td>
                    <td>{{ data.currentGrade }}</td>
                    <td style="text-align: center;">{{ data.creditHours }}</td>
                    <td style="text-align: center;">{{ data.totalAmount }}</td>
                    <td>
                      <nz-input-number *ngIf="setOfCheckedAddCourses.has(data.courseId)" [nzMin]="0" [nzMax]="3"
                        [nzStep]="1" [ngModel]="getCoursePriority(data.courseId)"
                        (ngModelChange)="updateCoursePriority(data.courseId, $event)"
                        [nzDisabled]="!setOfCheckedAddCourses.has(data.courseId)" style="width: 100px">
                      </nz-input-number>
                    </td>
                  </tr>
                </ng-container>
              </tbody>
              <tfoot class="footer-row">
                <tr>
                  <td colspan="5" style="font-weight: bold;">Total</td>
                  <td style="font-weight: bold;">{{ getTotalAddedCreditHours() }}</td>
                  <td style="font-weight: bold;">{{ getTotalAddedAmount() | number:'1.2-2' }}</td>
                  <td></td>
                </tr>
              </tfoot>
            </nz-table>
          </div>
        </nz-spin>
      </nz-card>
      <nz-card nzType="inner" [nzTitle]="courseAssessmentTitle" class="card-section">
        <nz-alert nzType="info" nzShowIcon [nzMessage]="'Course Assessment'"
          [nzDescription]="'Select courses that you need to retake or reassess. These courses will be marked for assessment purposes.'"
          style="margin-bottom: 16px;"></nz-alert>
        <nz-spin [nzSpinning]="isLoadingAssessmentCourses">
          <div class="responsive-table-wrapper">
            <nz-table #assessmentTable [nzData]="listOfCourseAssessment" nzShowSizeChanger
              (nzCurrentPageDataChange)="onCurrentPageDataChange($event)" nzBordered [nzShowPagination]="false">
              <thead class="table-header-row">
                <tr class="table-header-row">
                  <th class="paginate" [nzChecked]="checkedAssessmentCourses"
                    [nzIndeterminate]="indeterminateAssessmentCourses"
                    (nzCheckedChange)="onAllChecked($event, 'assessment')" [nzDisabled]="isAllCoursesDisabled()">
                  </th>
                  <th class="th-row">Course Code</th>
                  <th class="th-row">Course Title</th>
                  <th class="th-row">Previous Grade</th>
                  <th class="th-row">Current Grade</th>
                  <th class="th-row">Credit Hour</th>
                  <th class="th-row">Total Amount</th>
                </tr>
              </thead>
              <tbody>
                <ng-container tabindex="0" *ngFor="let data of assessmentTable.data; let i = index">
                  <tr [class.disabled-row]="!setOfCheckedAssessmentCourses.has(data.courseId)"
                    [style.background-color]="isCourseDisabled(data) ? '#fff1f0' : '#ffffff'"
                    [style.color]="isCourseDisabled(data) ? '#595959' : ''">
                    <td class="paginate">
                      <ng-container *ngIf="isCourseDisabled(data); else checkbox">
                        <span nz-icon nzType="lock" nzTheme="outline" style="color: #ff4d4f; font-size: 20px;"
                          nz-tooltip
                          [nzTooltipTitle]="data.currentGrade !== 'RA' ? 'The assessment result for this course has already changed' : 'The course cannot be added because it is not in the available course list or add request list.'"
                          nzTooltipPlacement="right" [nzTooltipColor]="'#1890ff'">
                        </span>
                      </ng-container>
                      <ng-template #checkbox>
                        <label nz-checkbox [nzChecked]="setOfCheckedAssessmentCourses.has(data.courseId)"
                          (nzCheckedChange)="onItemChecked(data.courseId, $event, false, true)">
                        </label>
                      </ng-template>
                    </td>
                    <td>{{data.courseCode}}</td>
                    <td>{{ data.courseTitle }}</td>
                    <td>{{ data.previousRAGrade }}</td>
                    <td>{{ data.currentGrade }}</td>
                    <td style="text-align: center;">{{ data.creditHours }}</td>
                    <td style="text-align: center;">{{ data.totalAmount }}</td>
                  </tr>
                </ng-container>
              </tbody>
              <tfoot class="footer-row">
                <tr>
                  <td colspan="5" style="font-weight: bold;">Total</td>
                  <td style="font-weight: bold; text-align: center;">{{ getTotalAssessmentCreditHours() }}</td>
                  <td style="font-weight: bold; text-align: center;">{{ getTotalAssessmentAmount() | number:'1.2-2' }}
                  </td>
                </tr>
              </tfoot>
            </nz-table>
          </div>
        </nz-spin>
      </nz-card>

      <nz-form-item>
        <nz-form-control [nzOffset]="12" [nzSpan]="12" class="send-request">
          <div *ngIf="totalSelectedCreditHours > getMaxAllowedCreditHours()" style="margin-bottom: 16px;">
            <nz-alert nzType="warning" nzShowIcon
              [nzMessage]="'Credit Hour Warning'"
              [nzDescription]="'You have selected ' + totalSelectedCreditHours + ' credit hours, which exceeds the recommended limit of ' + getMaxAllowedCreditHours() + ' credit hours. This may affect your academic performance.'">
            </nz-alert>
          </div>
          <button nz-button nzType="primary"
            [disabled]="(setOfCheckedId.size === 0 && setOfCheckedAddCourses.size === 0 && setOfCheckedAssessmentCourses.size === 0) || totalSelectedCreditHours > getMaxAllowedCreditHours()"
            [nzLoading]="isSubmitting" (click)="onSubmitClicked()">
            Submit
          </button>
          <div class="selection-summary">
            <span>Selected Courses:</span>
            <ul>
              <li>Semester : {{ setOfCheckedId.size }} </li>
              <li>Add Request : {{ setOfCheckedAddCourses.size }} </li>
              <li>Assessment : {{ setOfCheckedAssessmentCourses.size }} </li>
              <li>Total Credit Hours: {{ totalSelectedCreditHours }}</li>
            </ul>
          </div>
        </nz-form-control>
      </nz-form-item>

    </div>
    <ng-template #elseBlock>
      <div class="course-registration-status-container">
        <!-- No Course Offerings Prepared -->
        <div *ngIf="!havePreparedCourseOffering" class="status-card no-offerings">
          <div class="status-icon">
            <span nz-icon nzType="file-search" nzTheme="outline"></span>
          </div>
          <div class="status-content">
            <h3 class="status-title">Course Offerings Not Available</h3>
            <p class="status-description">
              The course offerings for your batch have not been prepared yet. This usually happens when:
            </p>
            <ul class="status-list">
              <li>The academic calendar hasn't been finalized</li>
              <li>Course schedules are still being updated</li>
              <li>Faculty assignments are pending</li>
            </ul>
            <p class="status-description">
              Please check back later or contact the academic office for more information about when course offerings will be available.
            </p>
          </div>
        </div>

        <!-- Registration Period Expired -->
        <div *ngIf="havePreparedCourseOffering && studentTermCourseReg.isAllowedToRegister == 0" class="status-card expired">
          <div class="status-icon">
            <span nz-icon nzType="clock-circle" nzTheme="outline"></span>
          </div>
          <div class="status-content">
            <h3 class="status-title">Registration Period Expired</h3>
            <p class="status-description">
              The course registration period has ended. You can no longer register for courses for this term. 
              This typically occurs when:
            </p>
            <ul class="status-list">
              <li>The registration deadline has passed</li>
              <li>Late registration period is not available</li>
              <li>Administrative processing has begun</li>
            </ul>
            <p class="status-description">
              If you believe this is an error or need to make changes, please contact the academic office immediately.
            </p>
            <div class="status-actions">
              <button nz-button nzType="default" (click)="contactAcademicOffice()">
                <span nz-icon nzType="phone"></span>
                Contact Academic Office
              </button>
              <button nz-button nzType="link" (click)="viewRegistrationHistory()">
                <span nz-icon nzType="history"></span>
                View Registration History
              </button>
            </div>
          </div>
        </div>

        <!-- Registration Not Yet Open -->
        <div *ngIf="havePreparedCourseOffering && studentTermCourseReg.isAllowedToRegister == 2" class="status-card upcoming">
          <div class="status-icon">
            <span nz-icon nzType="calendar" nzTheme="outline"></span>
          </div>
          <div class="status-content">
            <h3 class="status-title">Registration Not Yet Open</h3>
            <p class="status-description">
              Course registration for this term has not yet opened. Registration typically opens:
            </p>
            <ul class="status-list">
              <li>2-3 weeks before the start of classes</li>
              <li>After all course offerings are finalized</li>
              <li>Once student accounts are verified</li>
            </ul>
            <p class="status-description">
              Please check back at the scheduled registration time or contact the academic office for the exact registration dates.
            </p>
            <div class="status-actions">
              <button nz-button nzType="primary" nzGhost (click)="refreshPage()">
                <span nz-icon nzType="reload"></span>
                Refresh Page
              </button>
              <button nz-button nzType="default" (click)="contactAcademicOffice()">
                <span nz-icon nzType="phone"></span>
                Contact Academic Office
              </button>
            </div>
          </div>
        </div>

        <!-- System Maintenance -->
        <div *ngIf="havePreparedCourseOffering && studentTermCourseReg.isAllowedToRegister == 3" class="status-card maintenance">
          <div class="status-icon">
            <span nz-icon nzType="tool" nzTheme="outline"></span>
          </div>
          <div class="status-content">
            <h3 class="status-title">System Under Maintenance</h3>
            <p class="status-description">
              The course registration system is currently undergoing scheduled maintenance. This usually includes:
            </p>
            <ul class="status-list">
              <li>System updates and improvements</li>
              <li>Database maintenance</li>
              <li>Security patches and updates</li>
            </ul>
            <p class="status-description">
              Please try again later. If the issue persists, contact the IT support team.
            </p>
            <div class="status-actions">
              <button nz-button nzType="primary" nzGhost (click)="refreshPage()">
                <span nz-icon nzType="reload"></span>
                Try Again
              </button>
              <button nz-button nzType="default" (click)="contactITSupport()">
                <span nz-icon nzType="customer-service"></span>
                Contact IT Support
              </button>
            </div>
          </div>
        </div>

        <!-- Account Issues -->
        <div *ngIf="havePreparedCourseOffering && studentTermCourseReg.isAllowedToRegister == 4" class="status-card account-issue">
          <div class="status-icon">
            <span nz-icon nzType="exclamation-circle" nzTheme="outline"></span>
          </div>
          <div class="status-content">
            <h3 class="status-title">Account Verification Required</h3>
            <p class="status-description">
              Your student account requires verification before you can register for courses. This may be due to:
            </p>
            <ul class="status-list">
              <li>Incomplete profile information</li>
              <li>Missing required documents</li>
              <li>Account security verification</li>
              <li>Academic standing review</li>
            </ul>
            <p class="status-description">
              Please complete your profile or contact the registrar's office for assistance.
            </p>
            <div class="status-actions">
              <button nz-button nzType="primary" (click)="completeProfile()">
                <span nz-icon nzType="user"></span>
                Complete Profile
              </button>
              <button nz-button nzType="default" (click)="contactRegistrar()">
                <span nz-icon nzType="phone"></span>
                Contact Registrar
              </button>
            </div>
          </div>
        </div>

        <!-- Default Message for Other Cases -->
        <div *ngIf="havePreparedCourseOffering && studentTermCourseReg.isAllowedToRegister != 0 && studentTermCourseReg.isAllowedToRegister != 1 && studentTermCourseReg.isAllowedToRegister != 2 && studentTermCourseReg.isAllowedToRegister != 3 && studentTermCourseReg.isAllowedToRegister != 4" class="status-card">
          <div class="status-icon">
            <span nz-icon nzType="info-circle" nzTheme="outline"></span>
          </div>
          <div class="status-content">
            <h3 class="status-title">Course Registration Unavailable</h3>
            <p class="status-description">
              Course registration is currently unavailable. This may be due to:
            </p>
            <ul class="status-list">
              <li>System maintenance or updates</li>
              <li>Administrative processing</li>
              <li>Technical difficulties</li>
              <li>Policy changes</li>
            </ul>
            <p class="status-description">
              Please try again later or contact the academic office for assistance.
            </p>
            <div class="status-actions">
              <button nz-button nzType="primary" nzGhost (click)="refreshPage()">
                <span nz-icon nzType="reload"></span>
                Refresh Page
              </button>
              <button nz-button nzType="default" (click)="contactAcademicOffice()">
                <span nz-icon nzType="phone"></span>
                Contact Academic Office
              </button>
            </div>
          </div>
        </div>
      </div>
    </ng-template>
  </nz-tab>

  <nz-tab [nzTitle]="seasonTitles" class="custom-tab no-sticky-tab" *ngIf="resultStatus==2 || resultStatus == 5">
    <div class="academic-header" *ngIf="studentTermCourseReg">
      <div class="academic-info">
        <div class="info-item">
          <span class="label">Student Name:</span>
          <span class="value">{{studentTermCourseReg?.fullName}}</span>
        </div>
        <div class="info-item">
          <span class="label">Student ID:</span>
          <span class="value">{{studentTermCourseReg?.studentId}}</span>
        </div>
        <div class="info-item">
          <span class="label">Batch Code:</span>
          <span class="value">{{studentTermCourseReg.batchCode}}</span>
        </div>

      </div>
    </div>
    <ng-template #titleoffering>
      <span nz-icon nzType="desktop"></span>
      {{ seasonTitles }}
    </ng-template>
    <div class="print-section">
      <button class="print-button" (click)="printSlip()">
        <span nz-icon nzType="printer" nzTheme="outline"></span>
        Show Slip
      </button>
      <button class="print-button" (click)="downloadPDF()">
        <span nz-icon nzType="download" nzTheme="outline"></span>
        Download PDF
      </button>
    </div>
    <div class="responsive-table-wrapper">
      <nz-table #basicTable [nzData]="studentTermCourseReg?.courseTermOfferings" nzShowSizeChanger
        (nzCurrentPageDataChange)="onCurrentPageDataChange($event)" nzBordered [nzShowPagination]="false">
        <thead class="table-header-row">
          <tr class="table-header-row">
            <th class="th-row">Course Code</th>
            <th class="th-row">Course Title</th>
            <th class="th-row">Credit Hour</th>
            <th class="th-row">Total Amount</th>
          </tr>
        </thead>
        <tbody>
          <ng-container tabindex="0" *ngFor="let data of basicTable.data; let i = index">
            <tr>
              <td>{{data.courseCode}}</td>
              <td>{{ data.courseTitle }}</td>
              <td style="text-align: center;">{{ data.creditHours }}</td>
              <td>{{ data.totalAmount }}</td>
            </tr>
          </ng-container>
        </tbody>
        <tfoot class="footer-row">
          <tr>
            <td colspan="2" style="font-weight: bold; text-align: left;">Total</td>
            <td style="font-weight: bold; text-align: center;"> {{studentTermCourseReg?.courseTermOfferings ? getTotalCreditHours():0 }}
            </td>
            <td style="font-weight: bold; text-align: center;"> {{studentTermCourseReg?.courseTermOfferings ? getTotalAmount():0 }}</td>
          </tr>
        </tfoot>
      </nz-table>
    </div>
  </nz-tab>
  <nz-tab nzTitle=" Payment Information" class="custom-tab" *ngIf="resultStatus==2 || resultStatus == 5">
    <div class="academic-header" *ngIf="studentTermCourseReg">
      <div class="academic-info">
        <div class="info-item">
          <span class="label">Student Name:</span>
          <span class="value">{{studentTermCourseReg?.fullName}}</span>
        </div>
        <div class="info-item">
          <span class="label">Student ID:</span>
          <span class="value">{{studentTermCourseReg?.studentId}}</span>
        </div>
        <div class="info-item">
          <span class="label">Batch Code:</span>
          <span class="value">{{studentTermCourseReg.batchCode}}</span>
        </div>

      </div>
    </div>
    <ng-template #titleoffering>
      <span nz-icon nzType="desktop"></span>
      Payment Information
    </ng-template>
    <div id="print-section">
      <div class="responsive-table-wrapper">
        <nz-table #basicTable [nzData]="studentTermCourseReg?.coursePayment" nzShowSizeChanger
          (nzCurrentPageDataChange)="onCurrentPageDataChange($event)" nzBordered [nzShowPagination]="false">
          <thead class="table-header-row">
            <tr class="table-header-row">
              <th class="th-row">Transaction Id</th>
              <th class="th-row">From Bank</th>
              <th class="th-row">To Bank</th>
              <th class="th-row">Transaction Date</th>
              <th class="th-row">Total Amount</th>
            </tr>
          </thead>
          <tbody>
            <ng-container tabindex="0" *ngFor="let data of basicTable.data; let i = index">
              <tr>
                <td>{{data.bankTransactionID}}</td>
                <td>{{ data.fromBank }}</td>
                <td>{{ getBankDescription(data.toBank) }}</td>
                <td>{{ data.transactionDate | date:'short' }}</td>
                <td>{{ data.amount }}</td>
              </tr>
            </ng-container>
          </tbody>
          <tfoot class="footer-row">
            <tr>
              <td colspan="4" style="font-weight: bold; text-align: left;">Total</td>
              <td style="font-weight: bold; text-align: center;"> {{studentTermCourseReg?.courseTermOfferings ? getTotalAmount():0 }}</td>
            </tr>
          </tfoot>
        </nz-table>
      </div>
    </div>
  </nz-tab>
</nz-tabset>