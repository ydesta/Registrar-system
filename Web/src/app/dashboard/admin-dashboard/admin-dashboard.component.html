<div class="dashboard-container">
  <!-- Summary Statistics Cards -->
  <nz-row [nzGutter]="24" class="stats-row">
    <nz-col nzXs="24" nzSm="12" nzMd="8" nzLg="6" *ngFor="let stat of [
      { title: 'Total Students', value: stats.totalStudents, icon: 'team', color: '#1890ff' },
      { title: 'Total Instructors', value: stats.totalInstructors, icon: 'user', color: '#52c41a' },
      { title: 'Total Courses', value: stats.totalCourses, icon: 'book', color: '#722ed1' },
      { title: 'Current Semester', value: stats.currentSemester, icon: 'calendar', color: '#fa8c16' },
      { title: 'Pending Applications', value: stats.pendingApplications, icon: 'file-done', color: '#eb2f96' },
      { title: 'Graduates (This Year)', value: stats.graduatesThisYear, icon: 'trophy', color: '#13c2c2' }
    ]">
      <div class="stat-card" [style.border-color]="stat.color">
        <div class="stat-icon" [style.background]="stat.color">
          <i nz-icon [nzType]="stat.icon" nzTheme="outline"></i>
        </div>
        <div class="stat-content">
          <h3>{{ stat.value }}</h3>
          <p>{{ stat.title }}</p>
        </div>
      </div>
    </nz-col>
  </nz-row>

  <!-- Enrollment Statistics Section -->
  <nz-row [nzGutter]="24" class="chart-row">
    <nz-col nzXs="24" nzLg="12">
      <div class="chart-card">
        <h3 class="section-title">Enrollment by Department</h3>
        <ngx-charts-pie-chart
          [results]="enrollmentStats.departmentBreakdown"
          [gradient]="true"
          [legend]="true"
          [labels]="true"
          [doughnut]="true"
          [arcWidth]="0.5"
          [animations]="true"
          [tooltipDisabled]="false"
          [view]="[400, 300]">
        </ngx-charts-pie-chart>
      </div>
    </nz-col>
    <nz-col nzXs="24" nzLg="12">
      <div class="chart-card">
        <h3 class="section-title">Student Status Breakdown</h3>
        <ngx-charts-pie-chart
          [results]="[
            { name: 'Active', value: enrollmentStats.studentStatus.active },
            { name: 'Graduated', value: enrollmentStats.studentStatus.graduated },
            { name: 'Dropped', value: enrollmentStats.studentStatus.dropped },
            { name: 'Suspended', value: enrollmentStats.studentStatus.suspended }
          ]"
          [gradient]="true"
          [legend]="true"
          [labels]="true"
          [doughnut]="false"
          [arcWidth]="0.5"
          [animations]="true"
          [tooltipDisabled]="false"
          [view]="[400, 300]">
        </ngx-charts-pie-chart>
      </div>
    </nz-col>
  </nz-row>

  <!-- Course Insights Section -->
  <nz-row [nzGutter]="24" class="insights-row">
    <nz-col nzXs="24" nzLg="12">
      <div class="insight-card">
        <h3 class="section-title">Top Enrolled Courses</h3>
        <nz-list [nzDataSource]="courseInsights.topEnrolledCourses" nzItemLayout="horizontal">
          <nz-list-item *ngFor="let course of courseInsights.topEnrolledCourses">
            <nz-list-item-meta>
              <nz-list-item-meta-title>{{ course.name }}</nz-list-item-meta-title>
              <nz-list-item-meta-description>
                <nz-tag>{{ course.enrollmentCount }} Students</nz-tag>
              </nz-list-item-meta-description>
            </nz-list-item-meta>
          </nz-list-item>
        </nz-list>
      </div>
    </nz-col>
    <nz-col nzXs="24" nzLg="12">
      <div class="insight-card">
        <h3 class="section-title">Courses Missing Instructors</h3>
        <nz-list [nzDataSource]="courseInsights.coursesWithoutInstructors" nzItemLayout="horizontal">
          <nz-list-item *ngFor="let course of courseInsights.coursesWithoutInstructors">
            <nz-list-item-meta>
              <nz-list-item-meta-title>{{ course.name }}</nz-list-item-meta-title>
              <nz-list-item-meta-description>
                <nz-tag nzColor="error">No Instructor Assigned</nz-tag>
              </nz-list-item-meta-description>
            </nz-list-item-meta>
          </nz-list-item>
        </nz-list>
      </div>
    </nz-col>
  </nz-row>
</div>
