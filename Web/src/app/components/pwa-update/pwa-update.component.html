<div 
  *ngIf="showUpdateNotification" 
  class="pwa-update-banner"
  [class.pwa-update-top]="position === 'top'"
  [class.pwa-update-bottom]="position === 'bottom'"
  role="alert"
  aria-live="polite"
  aria-labelledby="pwa-update-title"
  aria-describedby="pwa-update-description">
  
  <div class="pwa-update-content">
    <div class="pwa-update-icon">
      <span nz-icon nzType="sync" nzTheme="outline" aria-hidden="true"></span>
    </div>
    
    <div class="pwa-update-text">
      <h3 id="pwa-update-title" class="pwa-update-title">
        {{ updateText }}
        <span *ngIf="showVersion && updateVersion" class="pwa-update-version">
          (v{{ updateVersion }})
        </span>
      </h3>
      
      <p id="pwa-update-description" class="pwa-update-description">
        A new version of {{ appName }} is available. 
        <span *ngIf="showUpdateDetails">
          This update includes bug fixes and performance improvements.
        </span>
      </p>
    </div>
    
    <div class="pwa-update-actions">
      <button 
        nz-button 
        nzType="primary" 
        [disabled]="isUpdating"
        (click)="applyUpdate()"
        class="pwa-update-button"
        aria-describedby="pwa-update-description">
        <span nz-icon nzType="sync" [nzSpin]="isUpdating" aria-hidden="true"></span>
        {{ isUpdating ? 'Updating...' : 'Update Now' }}
      </button>
      
      <button 
        *ngIf="shouldShowDismissButton()"
        nz-button 
        nzType="default" 
        (click)="dismissNotification()"
        class="pwa-update-dismiss"
        aria-label="Dismiss update notification">
        {{ dismissText }}
      </button>
    </div>
  </div>
</div> 