<div class="contact-person-container">
    <div class="header-section">
        <h2 *ngIf="!isApplicantProfile">Contact Person Information</h2>
        <button (click)="openModal()" nz-button nzType="primary" [disabled]="isSubmittedApplicationForm>0" *ngIf="!isApplicantProfile">
            <span nz-icon nzType="plus" nzTheme="outline"></span>
            Add Contact Person
        </button>
    </div>

    <nz-table #basicTable 
              [nzData]="contactPersonLists" 
              nzBordered
              [nzPageSize]="5"
              [nzShowSizeChanger]="true"
              [nzNoResult]="noDataTemplate">
        <thead>
            <tr>
                <th>Full Name</th>
                <th>Telephone Office</th>
                <th>Telephone Home</th>
                <th>Relation</th>
                <th *ngIf="!isApplicantProfile">Actions</th>
            </tr>
        </thead>
        <tbody>
            <tr *ngFor="let data of basicTable.data; let i = index">
                <td>{{ data.fullName }}</td>
                <td>{{ data.telephoneOffice }}</td>
                <td>{{ data.telephoneHome }}</td>
                <td>{{ data.relation }}</td>
                <td *ngIf="!isApplicantProfile">
                    <button nz-button 
                            nz-dropdown 
                            [nzDropdownMenu]="menu" 
                            nzPlacement="bottomRight"
                            [disabled]="isSubmittedApplicationForm>0"
                            nzTrigger="click"
                            class="action-button">
                        <span nz-icon nzType="more" nzTheme="outline"></span>
                    </button>
                    <nz-dropdown-menu #menu="nzDropdownMenu">
                        <ul nz-menu>
                            <li nz-menu-item (click)="editModal(data)">
                                <a class="edit">
                                    <span nz-icon nzType="edit" nzTheme="outline"></span>
                                    Edit
                                </a>
                            </li>
                            <li nz-menu-item (click)="deleteContact(data.id)">
                                <button class="delete" nzDanger>
                                    <span nz-icon nzType="delete" nzTheme="outline"></span>
                                    Delete
                                </button>
                            </li>
                        </ul>
                    </nz-dropdown-menu>
                </td>
            </tr>
        </tbody>
    </nz-table>

</div>
<ng-template #noDataTemplate>
    <div class="no-data">
        <span nz-icon nzType="usergroup-add" nzTheme="outline"></span>
        <p>No contact persons added yet</p>
    </div>
</ng-template>