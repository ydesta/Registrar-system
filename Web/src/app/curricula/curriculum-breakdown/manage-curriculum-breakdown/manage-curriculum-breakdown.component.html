<div class="content-container">
  <!-- Header Section -->
  <div class="header-section">
    <button nz-button nzType="default" class="back-btn" (click)="goToCurriculum()">
      <span nz-icon nzType="arrow-left" nzTheme="outline"></span>
      Back to Curricula
    </button>
    <div class="header-content">
      <div class="page-title">
        <h2 class="title-text">{{code}} - {{programme}}</h2>
        <p class="subtitle-text">Manage curriculum breakdown and course distribution</p>
        <div class="curriculum-info">
          <span nz-icon nzType="book" nzTheme="outline"></span>
          <span class="curriculum-description">View and manage academic term breakdowns for curriculum courses</span>
        </div>
      </div>
    </div>
  </div>
  <!-- Form Container -->
  <div class="form-container">
    <div class="form-card">
      <div class="form-header">
        <div class="form-icon">
          <span nz-icon nzType="calendar" nzTheme="outline"></span>
        </div>
        <div class="form-title">
          <h3>Academic Year Selection</h3>
          <p>Select the academic year to view curriculum breakdown</p>
        </div>
      </div>

      <form nz-form [formGroup]="curriculumBreakdownForm" class="curriculum-form">
        <div class="form-sections">
          <div class="form-section">
            <div class="form-row">
              <div class="form-col">
                <nz-form-item>
                  <nz-form-label nzRequired>Academic Year</nz-form-label>
                  <nz-form-control nzErrorTip="Please select an academic year">
                    <nz-select 
                      formControlName="yearNumber" 
                      nzPlaceHolder="Select academic year"
                      class="professional-select">
                      <nz-option 
                        *ngFor="let item of listOfYearNumber" 
                        [nzValue]="item.Id"
                        [nzLabel]="item.Description">
                      </nz-option>
                    </nz-select>
                  </nz-form-control>
                </nz-form-item>
              </div>
            </div>
          </div>
        </div>
      </form>
    </div>
  </div>
  <!-- Results Container -->
  <div class="form-container" *ngIf="numberOfTerms; else elseBlock">
    <div class="form-card">
      <div class="form-header">
        <div class="form-icon">
          <span nz-icon nzType="book" nzTheme="outline"></span>
        </div>
        <div class="form-title">
          <h3>Curriculum Breakdown</h3>
          <p>Academic terms and course distribution</p>
        </div>
      </div>

      <div class="curriculum-form">
        <div class="form-sections">
          <div class="form-section">
            <div class="section-header">
              <h4 class="section-title">
                <span nz-icon nzType="calendar" nzTheme="outline"></span>
                Academic Terms
              </h4>
              <p class="section-description">Select a term to view detailed course information</p>
            </div>

            <div class="form-row">
              <div class="form-col" *ngFor="let breakdown of curriculumQuadrants; let i = index">
                <div class="term-card">
                  <nz-collapse [nzAccordion]="true">
                    <nz-collapse-panel [nzHeader]="getAcademicTermStatusDescription(breakdown.termNumber)">
                      <app-course-details [courses]="breakdown.course"></app-course-details>
                    </nz-collapse-panel>
                  </nz-collapse>
                </div>
              </div>
            </div>
          </div>
        </div>
      </div>
    </div>
  </div>
  <ng-template #elseBlock>
    <div class="form-container">
      <div class="form-card">
        <div class="form-header">
          <div class="form-icon">
            <span nz-icon nzType="info-circle" nzTheme="outline"></span>
          </div>
          <div class="form-title">
            <h3>No Curriculum Breakdown Available</h3>
            <p>Create the initial course breakdown for this curriculum</p>
          </div>
        </div>

        <div class="curriculum-form">
          <div class="form-sections">
            <div class="form-section">
              <div class="empty-state-content">
                <div class="empty-state-text">
                  <p class="section-description">
                    No curriculum breakdown has been recorded for the selected academic year. 
                    Please create the initial course breakdown to begin managing this curriculum.
                  </p>
                </div>
                <div class="empty-state-actions">
                  <button 
                    nz-button 
                    nzType="primary" 
                    nzSize="large" 
                    (click)="doAction()" 
                    class="create-breakdown-btn">
                    <span nz-icon nzType="plus" nzTheme="outline"></span>
                    Create Curriculum Breakdown
                  </button>
                </div>
              </div>
            </div>
          </div>
        </div>
      </div>
    </div>
  </ng-template>
</div>