<div class="course-offering-instructor-assignment">
  <!-- Search Section -->
  <div class="search-container">
    <nz-input-group nzSearch>
      <input
        nz-input
        placeholder="Search instructors by code, first name, or last name..."
        [(ngModel)]="searchText"
        (ngModelChange)="onSearch()"
        (keyup)="onSearch()"
      />
    </nz-input-group>
  </div>

  <!-- Table Section -->
  <nz-table
    nzBordered
    #basicTable
    [nzData]="staffList"
    [nzShowPagination]="true"
    nzShowPagination
    [nzPageSizeOptions]="[5, 10, 20, 50]"
    [nzPageSize]="5"
    nzShowSizeChanger
    [nzTotal]="staffList?.length"
    (nzCurrentPageDataChange)="onCurrentPageDataChange($event)"
    [nzSize]="'middle'"
    [nzLoading]="loading"
    class="table-full-width"
  >
    <thead class="table-header-row">
      <tr class="table-header-row">
        <th
          class="paginate"
          [nzChecked]="checked"
          [nzIndeterminate]="indeterminate"
          (nzCheckedChange)="onAllChecked($event)"
        ></th>
        <th class="th-row">Instructor Code</th>
        <th class="th-row">
          Full Name
          <nz-filter-trigger
            [(nzVisible)]="visible"
            [nzActive]="searchValue.length > 0"
            [nzDropdownMenu]="menu"
          >
            <span nz-icon nzType="search"></span>
          </nz-filter-trigger>
        </th>
      </tr>
    </thead>
    <tbody>
      <tr tabindex="0" *ngFor="let data of basicTable.data; let i = index">
        <td
          class="paginate"
          [nzChecked]="setOfCheckedId.has(data.id)"
          (nzCheckedChange)="onItemChecked(data.id, $event)"
        ></td>
        <td>{{ data.staffCode }}</td>
        <td>{{ data.firstName }} {{ data.lastName }}</td>
      </tr>
    </tbody>
  </nz-table>

  <!-- Filter Dropdown Menu -->
  <nz-dropdown-menu #menu="nzDropdownMenu">
    <div class="ant-table-filter-dropdown">
      <div class="search-box">
        <input
          type="text"
          nz-input
          placeholder="Search First Name or Last Name"
          [(ngModel)]="searchValue"
        />
        <button
          nz-button
          nzSize="small"
          nzType="primary"
          (click)="search()"
          class="search-button"
        >
          Search
        </button>
        <button nz-button nzSize="small" (click)="reset()">Reset</button>
      </div>
    </div>
  </nz-dropdown-menu>

  <!-- Action Buttons Section -->
  <div class="button-container">
    <button nz-button nzType="primary" (click)="onSubmit()">
      <span nz-icon nzType="save"></span>
      Save Assignment
    </button>
  </div>
  
  <nz-divider></nz-divider>
</div>
